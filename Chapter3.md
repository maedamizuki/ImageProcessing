# 空間フィルタ  
線形フィルタ、非線形フィルタによるノイズ除去の方法、エッジ抽出フィルタによる輪郭抽出などについて言及する。  

## 雑音除去のための平滑化フィルタ  
2次元線形システムとオペレータとの関係について説明し、よく用いられるフィルタのオペレータについて記述する。  
* 2次元線形システム  
```math
図3.1
```

* 移動平均フィルタ
雑音除去に用いられる最も基本的なフィルタである。注目がその周りの値を平均したもの。出力画像全体にボテが生ずる。インパルス応答オペレータのサイズを大きくすると、画像のボケが目立つようになる。  

* 加重平均フィルタ  
単純平均ではなく、注目画素に近いところほど大きな重みをつけるようにするフィルタのこと。  
**ガウシアンフィルタ**：加重平均フィルタのインパルス応答の数値をガウス分布に近づけけたもの。  

* バイラテラルフィルタ  
平均化では画像そのものがボケた状態になる。これは、平滑化によってエッジの濃淡変化が滑らかになったためである。  
局所領域にのみ平滑化を行う手法のこと。これは、がウシアンフィルタの輪郭がボケるという欠点を改良したもの。カーネルの中心の濃度値との差を横軸とした正規分布を表しており、濃度差が小さい時は重みが大きくなり、大きい時は、重みが小さくなる。  

## 順序統計に基づく非線形フィルタ  
* メディアンフィルタ  
エッジ情報を残すフィルタ。インパルス性雑音(ゴマ塩雑音)の除去に有効である。メディアンフィルタは注目画素の近傍画素を濃度値順に並べてその中の中央値を出力するフィルタである。  
今注目画素(x,y)の８近傍画素を並べたものをu(k)として、その出力をvとすると、次式のようになる。  

```math
v=median(u(1),u(2),...,u(9))
```

* 加重メディアンフィルタ  
微小な信号を無視してしまうメディアンフィルタを解決するために、注目画素の信号の大きさ、信号の位置についても考慮したフィルタのこと。  
加重メディアンフィルタの手順を決定する。(加重：w(i))  
1. フィルタの窓内(8近傍がよく用いられる)の数値を大きさの順に並べる。  
2. 大きさの順に加重の値を加える。  
3. 加重の和がΣw(i)/2を初めて超えた時の対応値を出力する。  

* ランクオーダフィルタ  
重要な非線形フィルタの１つ。フィルタ窓内のr番目に小さなデータを出力する。インパルス性雑音の除去に有効。インパルス性雑音の信号値の低い、高いに応じて、rの値を変える。  
グレースケール画像を考えた時、最小値フィルタの場合は白いインパルス性雑音を除去しやすく、最大値フィルタの場合は黒いインパルス性雑音を除去しやすい。  

## エッジを抽出するフィルタ  
* 微分フィルタ  
1次微分フィルタで処理を行なった場合、エッジの周辺で勾配が変化する。画像に含まれる雑音に対しても敏感に反応してしまい、雑音の周りに新たな雑音を作ってしまう。  

* 雑音を抑えた微分フィルタ  
微分フィルタの雑音を抑えながらエッジ抽出するフィルタ。  
  * プリューウィットフィルタ  
  * ソーベルフィルタ  
1. プリューウィットフィルタ  
縦方向のエッジを抽出する時、横方向に微分してから縦方向に平滑化を行う。横方向の微分では、中心差分で定式化した差分式により計算し、縦方向の平滑化は、単純平均により計算を行う。  
横方向のエッジを抽出する際は、縦方向に微分を行なってから予行方向の平滑化を行う。　　
